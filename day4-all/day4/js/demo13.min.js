var app=angular.module("myApp",["ng"]);app.service("$heartBeat",["$interval",function(a){this.startBeat=function(){promise=a(function(){console.log("心跳")},1000)};this.stopBeat=function(){a.cancel(promise)}}]);app.controller("myCtrl",["$scope","$heartBeat",function(b,a){b.start=function(){a.startBeat()};b.stop=function(){a.stopBeat()}}]);